<div fxLayout="column" class="fx-full-height">

  <div fxLayout="row" fxLayoutAlign="space-between">
    <h3 translate>EXAMPLE.CITY.PAGETITLE.LIST|Cities</h3>
    <button kendoButton *ngIf="isReadOnly === false" [primary]="true" [routerLink]="['new']"
      translate>EXAMPLE.CITY.NEW|New City</button>
  </div>

  <kendo-panelbar>
    <kendo-panelbar-item title="{{'EXAMPLE.CITY.FILTER|Filter' | translate}}" expanded="true">
      <ng-template kendoPanelBarContent>
        <app-city-list-filter (filterChange)="onFilterChange($event)"></app-city-list-filter>
      </ng-template>
    </kendo-panelbar-item>
  </kendo-panelbar>

  <div fxFlex class="fx-full-height-grid-container">

      <div *ngIf="isMobile | async; then cardList else columnGrid"></div>
      <ng-template #cardList>
        <kendo-grid class="fx-full-height fx-full-width" [data]="data" [pageable]="true" [pageSize]="pageSize" [skip]="dataRequest.page.skip"
          [loading]="isLoading" (pageChange)="onPageChange($event)">
          <kendo-grid-column title="{{'EXAMPLE.ITEMS|Items' | translate}}">
            <ng-template kendoGridCellTemplate let-dataItem>    
              <div fxLayout="column">
                <h4><a class="k-text-info" [routerLink]="[dataItem.id]">x{{dataItem.fullName}}</a></h4>
                <div fxLayout="row" fxFlexOffset=".5em">
                  <div fxFlex="1 1 0" translate>EXAMPLE.CITY.FIELDS.COUNTRYNAME|Country</div>
                  <span fxFlexOffset="1em" fxFlex="2 1 0">{{dataItem.countryName}}</span>
                </div>
                <div fxLayout="row" fxFlexOffset=".5em">
                  <div fxFlex="1 1 0" translate>EXAMPLE.CITY.FIELDS.POPULATION|Population</div>
                  <span fxFlexOffset="1em" fxFlex="2 1 0">{{dataItem.population | localeKendoNumber:'n'}}</span>
                </div>
              </div>
            </ng-template>
          </kendo-grid-column>
        </kendo-grid>
      </ng-template>
    
      <ng-template #columnGrid>
        <kendo-grid class="fx-full-height fx-full-width" [data]="data" [pageable]="true" [pageSize]="pageSize" [skip]="dataRequest.page.skip"
          [loading]="isLoading" (pageChange)="onPageChange($event)">
          <kendo-grid-column field="name" title="{{'EXAMPLE.CITY.FIELDS.NAME|Name' | translate}}">
            <ng-template kendoGridCellTemplate let-dataItem>
              <a class="k-text-info" [routerLink]="[dataItem.id]">{{dataItem.fullName}}</a>
            </ng-template>
          </kendo-grid-column>
          <kendo-grid-column field="countryName" title="{{'EXAMPLE.CITY.FIELDS.COUNTRYNAME|Country' | translate}}">
          </kendo-grid-column>
          <kendo-grid-column field="population" title="{{'EXAMPLE.CITY.FIELDS.POPULATION|Population' | translate}}"
            format="n">
          </kendo-grid-column>
        </kendo-grid>
      </ng-template>
  </div>



</div>